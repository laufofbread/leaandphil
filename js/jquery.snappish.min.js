// jquery.snappish.js
// With modifications by @LoonyPandora

(function(){$.fn.snappish=function(e){var t,n,r,i,s,o,u,a,f,l,c;l=$.extend({},$.fn.snappish.defaults,e);r=$(this);t=$(l.mainSelector);n=$(l.slidesSelector);o=n.length;i=0;a=100/o;s=false;c=t.css("transition-duration");if(c.toString().match(/s$/)){c=c.replace(/s$/,"")*1e3}else{c=c.replace(/ms$/,"")*1}r.addClass("snappish-wrapper");t.addClass("snappish-main");t.addClass("snappish-"+o+"-slides");n.addClass("snappish-slide");u=function(e){var t;t=null;if(e==="down"&&i<o-1){t=i+1}else if(e==="up"&&i>0){t=i-1}if(t!=null){return f(t)}};f=function(e){var o,u;if(e===i){return}s=true;u=e*a*-1;o={fromSlideNum:i,fromSlide:n.eq(i),toSlideNum:e,toSlide:n.eq(e),wrapper:r,main:t,transitionDuration:c};r.trigger("scrollbegin.snappish",o);t.css("transform","translate3d(0,"+u+"%,0)");i=e;setTimeout(function(){return r.trigger("scrollend.snappish",o)},c);return setTimeout(function(){return s=false},c+300)};if(l.mousewheelEnabled){r.on("mousewheel",function(e,t,n,r){if(s){return}if(r<0){return u("down")}else if(r>0){return u("up")}})}if(l.swipeEnabled){$.event.special.swipe.settings.threshold=l.swipeThreshold;r.on("swipeup",function(e){return u("down")});r.on("swipedown",function(e){return u("up")})}r.on("scrollup.snappish",function(e){var t;t=i-1;if(t>=0){return f(t)}});r.on("scrolldown.snappish",function(e){var t;t=i+1;if(t<o){return f(t)}});r.on("scrollto.snappish",function(e,t){return f(t)});return r};$.fn.snappish.defaults={mainSelector:".snappish-main",slidesSelector:".snappish-main > *",mousewheelEnabled:true,swipeEnabled:true,swipeThreshold:.1}}).call(this);
